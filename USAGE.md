# 📚 户外装备清单 - 使用文档

> 详细的功能说明和操作指南

## 📋 目录

- [🚀 快速开始](#快速开始)
- [🎯 核心功能](#核心功能)
- [📦 装备管理](#装备管理)
- [💾 数据操作](#数据操作)
- [🤖 AI 功能](#ai功能)
- [🎨 主题系统](#主题系统)
- [⌨️ 快捷键](#快捷键)
- [🔄 操作撤销](#操作撤销功能)
- [📊 视图模式](#视图模式)
- [📋 操作日志](#操作日志)
- [🛒 购物车导入](#购物车导入详解)
- [💡 使用技巧](#使用技巧)
- [❓ 常见问题](#常见问题)
- [🔧 高级功能](#高级功能)
- [📱 移动端使用](#移动端使用)

---

## 🚀 快速开始

### 首次使用

1. **初始化分类**
   - 点击菜单：`📂 分类管理 → ✨ 初始化分类`
   - 系统将自动创建8个常用分类：
     - 🎒 背负系统
     - 😴 睡眠系统
     - 👕 服装系统
     - 🛠️ 必备工具
     - 🍳 餐厨锅具
     - 🍎 路餐食材
     - 🆘 求生系统
     - 🛁 洗漱工具

2. **添加装备**
   - 在任意分类卡片中点击 `➕ 添加装备`
   - 填写装备信息并保存

3. **标记准备状态**
   - 点击装备项，状态将在“待准备”和“已准备”之间切换。
   - 已准备的装备会以不同的样式突出显示。

---

## 🎯 核心功能

### 装备分类管理

#### 添加分类
1. 点击 `➕ 添加分类` 卡片
2. 输入分类名称（如：摄影装备）
3. 按回车或点击 `✓ 确认`

#### 编辑分类
- **修改名称**：点击分类标题，即可进入编辑模式。
- **更换图标**：点击图标，即可进入编辑模式。
- **删除分类**：点击分类右上角的 `⋯` 菜单，选择 `🗑️ 删除分类`。

#### 排序分类
1. 点击右上角 `⋯ 更多 → 🔀 排序分类`
2. 在弹出的模态框中，拖动分类卡片调整顺序。
3. 点击 `保存顺序`。

#### 折叠/展开
- **单个分类**：点击分类标题左侧的 `▼`/`▶` 按钮。
- **全部分类**：点击右上角 `📂 展开全部` / `📁 收起全部`。

---

## 📦 装备管理

### 添加装备

1. **基本信息**
   - **名称**：装备名称（必填）
   - **数量**：数值 + 单位（个/件/双/套/瓶等）
   
2. **重量信息**
   - **重量**：数值 + 单位（g/kg/斤/磅）
   - 系统会自动计算总重量。

3. **价格信息**
   - **价格**：数值 + 单位（人民币/美元/英镑/日元）
   - 系统会自动计算总价格。

### 编辑装备

1. 悬停装备项，显示 `⋯` 菜单。
2. 点击 `⋯` 菜单 → `✏️ 修改`。
3. 在编辑表单中修改任意字段。
4. 点击 `✓ 确认修改`。

### 删除装备

1. 悬停装备项，显示 `⋯` 菜单。
2. 点击 `⋯` 菜单 → `🗑️ 删除`。
3. 在弹出的确认框中确认删除。

### 装备状态

- **⭕ 待准备**
- **✅ 已准备**
- **切换方式**：直接点击装备项即可切换状态。

### 装备重新编码
如果装备的序号出现混乱或重复，可以：
1. 点击分类右上角的 `⋯` 菜单。
2. 选择 `🔢 重新编码`。
3. 系统会自动修复并重新排序该分类下的所有装备序号。

---

## 💾 数据操作

### 导出功能

#### 导出 JSON
1. 点击 `📤 导出 → 📄 导出 JSON`
2. 文件自动下载：`outdoor-gear-checklist-YYYY-MM-DD.json`
3. 包含完整的分类、装备、状态等数据

#### 导出图片
1. 点击 `📤 导出 → 🖼️ 导出图片`
2. 等待图片生成（几秒钟）
3. 预览图片效果
4. 点击 `📥 下载图片` 保存

**图片导出特性**：
- 高分辨率（4K）
- 包含所有装备信息
- 适合打印和分享
- 自动适配当前主题

### 导入功能

#### 导入 JSON
1. 点击 `📥 导入 → 📄 导入 JSON`
2. 选择之前导出的JSON文件
3. 确认导入（会覆盖当前数据）
4. 系统自动加载数据

#### 导入购物车
1. 点击 `📥 导入 → 🛒 导入购物车`
2. 复制京东购物车分享链接或HTML源码
3. 粘贴到输入框
4. 点击 `🔍 解析购物车`
5. **AI自动分类**：
   - 分析商品类型
   - 自动归类到对应装备分类
   - 创建不存在的新分类
6. 预览并确认导入

**支持的购物车格式**：
- 京东分享链接：`【京东】https://3.cn/xxx-xxx`
- 完整HTML页面源码

---

## 🤖 AI 功能

### 智能推荐

#### 配置模型（首次使用）

1. 点击 `🤖 AI 工具 → ⚙️ 模型配置`
2. **基础配置**：
   - **API 地址**：如 `https://api.deepseek.com/v1`
   - **API 密钥**：从服务商获取
   - **模型名称**：如 `deepseek-chat`
3. **高级参数**（可选）：
   - **最大Token数**：建议 4096-8192
   - **温度**：建议 0.7（用于更有创造性的推荐）
4. 点击 `🔬 测试连接` 验证配置。
5. 保存配置。

#### 获取推荐

1. 点击 `💡 智能推荐` 按钮。
2. **设置出行参数**：
   - **活动类型**：一日户外/多日户外/露营/登山/背包旅行
   - **季节**：春季/夏季/秋季/冬季
   - **天气**：晴天/多云/雨天/雪天/多变
   - **难度**：简单/中等/困难/专业
   - **预算**：经济型/中等/高端
3. 点击 `🚀 获取推荐`。
4. AI将生成一份个性化的装备推荐清单。
5. 在推荐结果中，勾选你需要的装备。
6. 点击 `📥 导入选中装备`，装备会自动添加到对应的分类中。

### 购物车智能分类

在导入京东购物车时，AI会分析每个商品的名称和属性，并自动判断其所属的装备类别：

```
示例：
"FIRE-MAPLE 折叠炉头" → 🍳 餐厨锅具
"始祖鸟 冲锋衣" → 👕 服装系统
"Black Diamond 登山杖" → 🛠️ 必备工具
```

---

## 🎨 主题系统

### 主题列表

| 图标 | 名称 | 风格特点 | 适用场景 |
|------|------|----------|----------|
| 🎨 | 默认风格 | 紫色渐变，现代简洁 | 日常使用 |
| ✏️ | 手绘风格 | 纸张质感，手写字体 | 文艺清新 |
| 🌙 | 暗黑模式 | 深色护眼，霓虹荧光 | 夜间使用 |
| 🌸 | 柔和风格 | 马卡龙配色，温柔可爱 | 轻松愉悦 |
| 👾 | 像素风格 | 8位像素艺术，复古游戏 | 个性化 |
| ⬜ | 极简风格 | 黑白灰极简，纯净简约 | 专注模式 |

### 切换主题

**方式一**：点击右上角主题按钮
1. 点击主题图标按钮
2. 选择喜欢的主题
3. 自动应用并保存

**主题特性**：
- 即时切换，无需刷新
- 所有组件完整适配
- 自动保存到本地
- 下次访问自动加载

---

## ⌨️ 快捷键

### 全局快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+Z` / `Cmd+Z` | 撤销操作 | 撤销最近的装备/分类操作 |

### 输入框快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 确认输入 |
| `Esc` | 取消输入 |

---

## 🔄 操作撤销功能

### 支持撤销的操作

#### 装备分类操作（6种）
- ✅ 添加分类
- ✅ 删除分类（包括恢复所有装备）
- ✅ 编辑分类名称
- ✅ 编辑分类图标
- ✅ 重新排序分类

#### 装备项操作（4种）
- ✅ 添加装备
- ✅ 删除装备（包括恢复所有属性）
- ✅ 编辑装备（名称、数量、重量、价格等）
- ✅ 切换装备完成状态

### 撤销方式

**方式一：快捷键**
- 按 `Ctrl+Z`（Windows/Linux）或 `Cmd+Z`（Mac）

**方式二：快捷按钮**
- 点击装备分类区域右上角的绿色 `⟲ 撤销` 按钮
- 按钮会显示可撤销操作的数量

**方式三：操作日志**
1. 打开 `⋯ 更多 → 📋 操作日志`
2. 找到要撤销的操作
3. 点击该操作旁边的 `⟲ 撤销` 按钮

### 撤销特性

- 🔒 每个操作最多撤销一次
- 📸 自动保存操作前的完整状态
- 🔍 可选择撤销任意历史操作
- ⏱️ 撤销操作本身也会被记录
- 📝 旧版本操作显示"旧记录"标签

---

## 📊 视图模式

### 网格布局
- 传统卡片网格排列
- 分类大小固定
- 适合快速浏览

### 瀑布流布局
- 自适应高度排列
- 紧凑利用空间
- 视觉效果更佳

**切换方式**：点击右上角 `⋯ 更多 → 💧 切换到瀑布流` / `🔲 切换到网格`

### 状态分栏

启用后装备会分为两栏显示：
- **☐ 待准备**：左侧显示
- **☑ 已准备**：右侧显示

**切换方式**：点击右上角 `⋯ 更多 → 📋 启用状态分栏` / `📊 取消状态分栏`

---

## 📋 操作日志

### 查看日志

1. 点击 `⋯ 更多 → 📋 操作日志`
2. 查看所有操作记录

### 日志类型

| 图标 | 类型 | 说明 |
|------|------|------|
| ➕ | 添加 | 添加分类或装备 |
| 🗑️ | 删除 | 删除分类或装备 |
| ✏️ | 修改 | 编辑分类或装备 |
| 🔄 | 状态 | 切换装备完成状态 |
| 📤 | 导出 | 导出数据或图片 |
| 📥 | 导入 | 导入清单或购物车 |
| 🗑️ | 清空 | 清空所有数据 |
| ⟲ | 撤销 | 撤销某个操作 |
| 🤖 | AI推荐 | 获取智能推荐（不记录） |

### 日志管理

- **导出日志**：保存操作历史为JSON文件
- **清空日志**：删除所有操作记录
- **日志上限**：最多保存500条记录

---

## 🛒 购物车导入详解

### 支持的平台

目前支持**京东购物车**导入。

### 导入步骤

#### 方式一：分享链接（推荐）

1. 在京东购物车点击"分享"
2. 复制分享文本：
   ```
   【京东】https://3.cn/xxx-xxx 「我的购物清单」
   点击链接直接打开
   ```
3. 打开应用的 `📥 导入 → 🛒 导入购物车`
4. 粘贴到输入框
5. 点击 `🔍 解析购物车`

#### 方式二：HTML源码

1. 打开京东购物车分享链接
2. 右键 → `查看网页源代码`（快捷键：`Ctrl+U` / `Cmd+Option+U`）
3. 全选（`Ctrl+A` / `Cmd+A`）→ 复制（`Ctrl+C` / `Cmd+C`）
4. 粘贴到应用的导入框
5. 点击 `🔍 解析购物车`

### AI智能分类

系统会自动：
- ✅ 提取商品名称和数量
- ✅ 调用AI分析商品属性
- ✅ 智能判断所属装备类别
- ✅ 自动创建不存在的分类
- ✅ 添加到对应分类中

**分类示例**：
```
"探路者 睡袋" → 😴 睡眠系统
"迪卡侬 冲锋衣" → 👕 服装系统
"火枫 炉头套装" → 🍳 餐厨锅具
```

---

## 🤖 AI 智能推荐

### 配置AI模型

#### 使用DeepSeek（推荐）

1. 访问 [DeepSeek开放平台](https://platform.deepseek.com/)
2. 注册账号并获取API密钥
3. 在应用中配置：
   - **API地址**：`https://api.deepseek.com/v1`
   - **API密钥**：粘贴你的密钥
   - **模型名称**：`deepseek-chat`
   - **最大Token**：`8192`
   - **温度**：`0.7`
4. 点击 `🔬 测试连接` 验证

#### 使用其他模型

支持任何兼容OpenAI API格式的模型：
- OpenAI GPT系列
- Azure OpenAI
- Claude（通过代理）
- 本地大模型（如Ollama）

**配置示例（OpenAI）**：
```
API地址: https://api.openai.com/v1
API密钥: sk-xxxxxxxxxxxxxxxx
模型名称: gpt-3.5-turbo
```

### 获取装备推荐

1. 点击 `🤖 AI 工具 → 💡 智能推荐`
2. **设置出行参数**：
   - **活动类型**：
     - 一日户外：轻量化装备
     - 多日户外：完整露营装备
     - 露营：舒适性优先
     - 登山：专业登山装备
     - 背包旅行：城市+户外混合
   
   - **季节**：春/夏/秋/冬
   - **天气**：晴/多云/雨/雪/多变
   - **难度**：简单/中等/困难/专业
   - **预算**：经济型/中等/高端

3. 点击 `🚀 获取推荐`
4. AI生成个性化装备清单
5. **一键导入**：
   - 勾选需要的装备
   - 点击 `📥 导入选中装备`
   - 自动添加到对应分类

**推荐示例**：
```
活动：多日户外 + 春季 + 雨天 + 中等难度

AI推荐：
🎒 背负系统：65L登山包、防雨罩
😴 睡眠系统：0度睡袋、防潮垫、帐篷
👕 服装系统：冲锋衣、抓绒衣、速干衣裤
🛠️ 必备工具：登山杖、头灯、刀具
...
```

---

## 📊 统计面板

### 实时统计

系统自动计算并显示：

1. **分类统计**
   - 📂 总分类数
   - 显示所有分类数量

2. **装备统计**
   - 📦 装备总数
   - ✅ 已准备数量
   - ⏳ 待准备数量
   - 📈 完成进度百分比

3. **重量统计**
   - ⚖️ 总重量（kg）
   - 自动换算单位（g/kg/斤/磅 → kg）
   - 按数量累计

4. **价格统计**
   - 💰 总价格（人民币）
   - 自动换算货币（美元/英镑/日元 → 人民币）
   - 按数量累计

### 单位换算规则

**重量**：
- 1 kg = 1000 g
- 1 斤 = 500 g
- 1 磅 = 453.592 g

**价格**（简化汇率）：
- 1 美元 = 7 人民币
- 1 英镑 = 9 人民币
- 1 日元 = 0.05 人民币

---

## 📖 使用技巧

### 装备编号系统

- 每个装备有固定序号（#1, #2, #3...）
- 删除装备后自动重新编号
- 序号用于快速定位和撤销操作

### 批量操作

1. **全部展开/收起**
   - 点击右上角 `📂 展开全部` / `📁 收起全部`
   - 快速查看或隐藏所有装备

2. **批量导入**
   - 使用购物车导入功能
   - AI自动分类，一次性添加多个装备

### 数据备份建议

1. **定期导出JSON**：
   - 每次重大更改后导出
   - 保存多个版本备份
   
2. **云端同步**：
   - 将导出的JSON文件上传到云盘
   - 跨设备使用

### 多设备使用

**方法一：导出/导入**
1. 在设备A导出JSON
2. 传输到设备B
3. 在设备B导入

**方法二：浏览器同步**
- 使用Chrome/Edge账号同步
- localStorage会自动同步到其他设备

---

## ❓ 常见问题

### 数据相关

**Q：数据保存在哪里？**  
A：保存在浏览器的localStorage中，只存在本地，不会上传服务器。

**Q：清除浏览器缓存会丢失数据吗？**  
A：是的。建议定期导出JSON备份。

**Q：数据大小有限制吗？**  
A：localStorage通常限制5-10MB，足够保存数千条装备记录。

**Q：可以在多个浏览器使用吗？**  
A：不同浏览器数据独立。需要通过导出/导入功能同步。

### 功能相关

**Q：为什么AI推荐没反应？**  
A：检查以下几点：
1. 是否配置了API密钥
2. API地址是否正确
3. 网络连接是否正常
4. 测试连接是否成功

**Q：购物车导入失败怎么办？**  
A：尝试以下方法：
1. 使用HTML源码方式
2. 检查是否是京东链接
3. 查看控制台错误信息
4. 如果AI分类失败，会使用"其他"分类

**Q：导出图片模糊怎么办？**  
A：图片已优化为高分辨率（4K），如果仍然模糊：
1. 检查浏览器缩放比例（应为100%）
2. 下载后用专业看图软件查看
3. 尝试导出为PDF打印

**Q：操作日志太多了怎么办？**  
A：
1. 点击 `清空日志` 清理
2. 系统自动保留最近500条
3. 可导出后清空

### 撤销相关

**Q：为什么有些操作无法撤销？**  
A：只有更新撤销功能后的新操作才能撤销。旧操作会显示"旧记录"标签。

**Q：撤销会影响其他数据吗？**  
A：不会。撤销只恢复该操作影响的数据，其他数据保持不变。

**Q：撤销操作本身可以撤销吗？**  
A：不可以。撤销操作不可再次撤销，建议谨慎操作。

---

## 🔧 高级功能

### 布局切换

- **网格模式**：传统卡片布局，整齐有序
- **瀑布流模式**：动态高度布局，节省空间

### 状态分栏

启用后装备按准备状态分两栏显示：
- 左栏：待准备装备
- 右栏：已准备装备

便于快速查看进度。

### 自定义分类图标

支持所有emoji作为分类图标：
- 🎒 🎪 🏕️ ⛺ 🔦 🧭 🗺️ 
- 🎣 🏹 🔭 📷 🎤 📻 
- ⚡ 🔥 💧 🌡️ 🧊 
- 🍎 🥤 🍖 🥘 🍜 
- 等等...

---

## 📱 移动端使用

### 响应式适配

- 自动适配手机屏幕
- 触摸操作优化
- 移动端专属布局

### 操作优化

- 卡片自动单列显示
- 按钮和字体自动调整
- 菜单自动居中

### 建议

- 竖屏使用体验更佳
- 可添加到主屏幕作为WebApp
- 支持离线使用（已加载过的页面）

---

## 🔐 隐私与安全

### 数据隐私

- ✅ 所有数据仅存储在本地浏览器
- ✅ 不上传任何数据到服务器
- ✅ 无用户追踪和分析
- ✅ 无广告和第三方代码

### API密钥安全

- API密钥仅保存在本地localStorage
- 不会发送到任何第三方
- 建议定期更换密钥
- 不要在公共设备上使用

---

## 💡 使用建议

### 装备准备流程

1. **计划阶段**
   - 使用AI推荐获取基础清单
   - 根据实际情况调整
   - 添加个人特殊需求

2. **采购阶段**
   - 使用购物车导入功能
   - 系统自动分类和统计
   - 查看总价格和总重量

3. **准备阶段**
   - 按分类逐个检查
   - 点击标记已准备装备
   - 查看完成进度

4. **出发前**
   - 导出图片作为检查清单
   - 确认所有装备已准备
   - 检查总重量是否合理

### 重量管理建议

**轻量化原则**：
- 一日户外：<5kg
- 多日户外：8-15kg
- 专业登山：根据天数和难度

**统计功能**：
- 实时查看总重量
- 超重时考虑精简装备
- 优先选择轻量化装备

### 分类建议

**常用分类**：
- 🎒 背负系统：背包、包罩
- 😴 睡眠系统：睡袋、睡垫、帐篷
- 👕 服装系统：外层、中层、内层
- 🛠️ 必备工具：刀具、灯具、绳索
- 🍳 餐厨锅具：炉头、套锅、餐具
- 🍎 路餐食材：主食、副食、零食
- 🆘 求生系统：急救、通讯、导航
- 🛁 洗漱工具：个人卫生用品

**可选分类**：
- 📷 摄影装备
- 🎣 钓鱼装备
- 🧗 攀岩装备
- ⛷️ 滑雪装备

---

## 🎓 进阶技巧

### 模板管理

1. **创建模板**
   - 为不同活动创建专属清单
   - 导出为不同的JSON文件
   - 命名如：`登山-冬季.json`、`露营-夏季.json`

2. **快速切换**
   - 导入对应模板
   - 根据实际情况微调
   - 节省准备时间

### 数据分析

使用导出的JSON文件：
- 统计常用装备
- 分析重量分布
- 优化装备配置

### AI提示词优化

在模型配置中自定义系统提示词，获得更精准的推荐：

```
你是一位专业的户外装备顾问，拥有20年户外经验。
请根据用户的活动类型、季节、天气等条件，推荐合适的装备。
重点关注安全性、实用性和重量控制。
```

---

## 📞 技术支持

### 获取帮助

1. **查看文档**：本使用文档
2. **查看更新日志**：`⋯ 更多 → 📝 更新日志`
3. **GitHub Issues**：提交问题和建议
4. **操作日志**：查看错误信息

### 反馈渠道

- GitHub Issues：[提交问题](https://github.com/iskssssss/outdoor-gear-checklist/issues)
- 项目地址：[outdoor-gear-checklist](https://github.com/iskssssss/outdoor-gear-checklist)

---

## 🔄 更新说明

### 检查更新

1. 访问项目GitHub页面
2. 查看最新提交记录
3. 下载新版本代码
4. 重新构建部署

### 数据迁移

更新版本后：
- localStorage数据自动迁移
- 系统自动修复数据格式
- 旧版本操作日志保留但不可撤销

---

## 🎯 最佳实践

### 出行前检查

1. **一周前**
   - 使用AI推荐创建清单
   - 采购缺少的装备

2. **三天前**
   - 检查装备状态
   - 测试工具是否正常

3. **出发前一天**
   - 全部标记为已准备
   - 导出图片清单
   - 按清单打包

### 团队协作

1. **队长准备清单**
   - 创建完整装备清单
   - 导出JSON文件

2. **分享给队员**
   - 发送JSON文件
   - 队员导入后调整个人装备

3. **统一标准**
   - 确保团队装备齐全
   - 避免遗漏关键装备

---

## 🌟 未来计划

- [ ] 云端同步功能
- [ ] 装备图片上传
- [ ] 装备商城链接
- [ ] 装备评价系统
- [ ] 行程规划集成
- [ ] 天气预报集成
- [ ] 装备重量优化建议
- [ ] 社区分享功能
- [ ] 移动端原生App

---

## 📄 许可证

本项目采用 [MIT](LICENSE) 许可证。

---

**Made with ❤️ by iskssss**

如果这个项目对你有帮助，请给个 ⭐️ Star 支持一下！

**享受你的户外探险！🏔️⛺🎒**

